# science-data-logger 配線ガイド

## 概要

このドキュメントは science-data-logger プロジェクトのArduino配線方法をまとめたものです。

---

## 🛠️ 必要なパーツ
- Arduino UNO R3
- DHT11（温湿度センサー）
- 光センサー（CdSセル等、フォトレジスタ）x2（A0必須、A1拡張用）
- ポテンショメータ（10KΩ）
- LCD1602（LiquidCrystal）
- ボタン x5（D8-D10で3つ使用、残り2つは拡張用）
- LED（赤・緑、他多数は拡張用）
- アクティブブザー or パッシブブザー（D11）
- DCモーター（3-6V マブチモーター等）
- L293DモータドライバIC
- MB102電源モジュール（または外部5V電源）
- ジャンパーワイヤー、ブレッドボード
- 抵抗（10kΩ, 220Ωなど）

---

## ⚡ ピンアサイン・配線図

```
Arduino UNO ピン配置:
├── デジタルピン
│   ├── D2: DHT11 データ
│   ├── D3: DCモーター制御（L293D IN1, PWM可）
│   ├── D4: DCモーター方向制御（L293D IN2）
│   ├── D5-D7: LCD制御
│   ├── D8-D10: ボタン入力（3つ使用、残り2つ拡張可）
│   ├── D11: ブザー（アクティブ/パッシブどちらも可）
│   ├── D12: 赤LED
│   └── D13: 緑LED
└── アナログピン
    ├── A0: 光センサー（CdSセル1）
    ├── A1: 拡張用（CdSセル2や他用途、未接続でOK）
    └── A2: ポテンショメーター
```

---


## 各部品の配線詳細
### DCモーター（3-6V）＋MB102電源モジュール＋L293Dモータドライバ
**推奨：L293DモータドライバICを使うことで、Arduinoから安全にモーターを制御できます。**

#### 推奨構成例
- **モーター**：3-6V マブチモーター等
- **電源**：MB102（単3電池4本やUSB給電等で3V/5V出力）
- **モータドライバ**：L293D

#### 配線例（1ch, D3でPWM制御）
```
MB102 5V ─+─ Vcc2(L293D, モーター電源)
          +─ Vcc1(L293D, ロジック電源, Arduino 5Vでも可)
          +─ モーター +端子
MB102 GND ─+─ L293D GND（全て）
          +─ モーター -端子
          +─ Arduino GND

Arduino D3 ─ IN1(L293D 2pin)
Arduino D4 ─ IN2(L293D 7pin)
L293D OUT1(3pin) ─ モーター +
L293D OUT2(6pin) ─ モーター -
（使わないIN/OUTは未接続でOK）
```

- **D3ピン**：PWM制御（速度調整）
- **D4ピン**：回転方向制御（HIGH/LOWで正転・逆転）
- **Vcc2**：MB102の5V（モーター用）
- **Vcc1**：Arduino 5V（ロジック用）
- **GND**：MB102とArduinoのGNDを共通化

#### ポイント
- L293Dは1つで2ch制御可能（1台なら片側のみ使用）
- モーター電源は必ずMB102等の外部電源から供給
- L293DのEnableピン（1,9pin）はHIGH（5V）に接続
- モーター両端にノイズ除去用コンデンサ（0.1μF）を付けるとノイズ低減

#### 参考リンク
- [L293Dの使い方（omoroya.com）](https://omoroya.com/arduino-lesson26)

---

### DHT11（温湿度センサー）
- 1 (VCC)   → 5V
- 2 (DATA)  → D2（10kΩプルアップ推奨）
- 3 (NC)    → 未接続
- 4 (GND)   → GND

### 光センサー（CdSセル）
- CdSセル1：片端 → 5V、もう片端 → A0 ＆ 10kΩ抵抗 → GND
- CdSセル2（拡張用）：A1に同様に接続可（未使用ならA1は未接続でOK）



### ポテンショメータ
- 端子1 → 5V
- 端子2（中央）→ A2
- 端子3 → GND

### LCD1602（LiquidCrystal 16x2）
- RS      → 4
- E       → 5
- D4      → 6
- D5      → 7
- D6      → 8
- D7      → 9
- VSS     → GND
- VDD     → 5V
- V0      → 可変抵抗（コントラスト調整）
- RW      → GND
- A       → 5V（バックライト+）
- K       → GND（バックライト-）

### ボタン
- 片端 → D8, D9, D10（それぞれ）
- 残り2つは拡張用ピンへ（例：D4, D5等）
- もう片端 → GND（INPUT_PULLUP使用）

### LED
- 赤LEDアノード → D12（220Ω抵抗経由）
- 緑LEDアノード → D13（220Ω抵抗経由）
- 他のLEDも任意のデジタルピン＋抵抗で拡張可
- カソード → GND

### ブザー
- アクティブ/パッシブどちらも +端子 → D11, -端子 → GND

---

## 注意事項
- モーター（D3）は外部電源（MB102等）とトランジスタ/MOSFET経由で駆動してください
- 音センサーは今回不要、A1ピンは未接続または拡張用でOK
- 配線後はショートや断線がないか必ず確認
- LCDのコントラストは可変抵抗で調整
- センサーの型番やピン配置は現物の仕様も確認

---

## 参考
- [Arduino公式ピン配置](https://www.arduino.cc/en/Reference/Board)
- [DHT11データシート](https://akizukidenshi.com/download/ds/aosong/DHT11.pdf)
- [LiquidCrystal公式](https://www.arduino.cc/en/Reference/LiquidCrystal)
